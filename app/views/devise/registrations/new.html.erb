<% title "#{resource.class} Sign-up" %>

<div class="row">
  <div class="text-center">
    <% if resource.is_a?(User) %>
      <%= link_to new_contractor_registration_path, class: 'btn btn-sm btn-warning' do %>
        <%= fa_icon 'wrench', title: 'Contractor' %> Contractor sign-up   
      <% end %>
    <% else %>
      <%= link_to new_user_registration_path, class: 'btn btn-sm btn-success' do %>
        <%= fa_icon 'user', title: 'User' %> User sign-up
      <% end %>
    <% end %>
  </div>
  <div class="authform">
    <%= simple_form_for resource, as: resource_name, 
                                 url: registration_path(resource_name), 
                             wrapper: :vertical_form, 
                              html: { multipart: true, class: 'geocoder_form' } do |f| %>
                                 
      <%= f.error_notification %>
      <div class="form-inputs">
        <%= f.input :address, placeholder: 'Enter your address', 
                               input_html: { id: 'geocomplete', 
                                            geo: 'formatted_address' } %>

        <%= f.input :latitude, as: :hidden, input_html: { geo: 'lat'} %>
        <%= f.input :longitude, as: :hidden, input_html: { geo: 'lng'} %>
                             
        <%= f.input :email, required: true %>
        <%= f.input :password, required: true, 
                                   hint: ("#{ @minimum_password_length } characters minimum" if @validatable) %>
        <%= f.input :password_confirmation, required: true %>
      </div>
      <div class="form-inputs text-center">
        <%= recaptcha_tags public_key: ENV['RECAPTCHA_PUBLIC_KEY'] %>
        <br>
        <%= render partial: 'devise/sessions/sign_up_in_button', 
                    locals: { text: 'sign-up' } %>
      </div>
    <% end %>
  </div>
</div>

<%= render 'devise/shared/links' %>